<view class="container"><view class="dashboard-card"><view class="stat-item"><text class="num">{{stats.todayOrders}}</text><text class="label">ä»Šæ—¥è®¢å•</text></view><view class="stat-item"><text class="num highlight">{{stats.pendingOrders}}</text><text class="label">å¾…å¤„ç†</text></view><view class="stat-item"><text class="num price">{{"Â¥"+stats.todayIncome}}</text><text class="label">ä»Šæ—¥æ”¶å…¥</text></view></view><view class="sticky-header"><view class="tabs"><block wx:for="{{tabs}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchTab',[index]]]]]}}" class="{{['tab-item',(currentTab===index)?'active':'']}}" bindtap="__e">{{''+tab.name+''}}<block wx:if="{{tab.count>0}}"><view class="badge">{{tab.count}}</view></block></view></block></view><view class="filter-bar"><picker mode="selector" range="{{timeFilters}}" data-event-opts="{{[['change',[['handleTimeFilter',['$event']]]]]}}" bindchange="__e"><view class="filter-item"><text>{{currentTimeFilter}}</text><text class="iconfont">â–¼</text></view></picker><view data-event-opts="{{[['tap',[['showCategoryFilter',['$event']]]]]}}" class="filter-item" bindtap="__e"><text>å…¨éƒ¨åˆ†ç±»</text><text class="iconfont">â–¼</text></view></view></view><scroll-view class="order-list" scroll-y="{{true}}"><block wx:for="{{filteredOrders}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view class="order-card"><view class="card-header"><text class="order-no">{{"è®¢å•å·ï¼š"+item.orderNo}}</text><text class="{{['status-text',item.statusClass]}}">{{''+item.statusText+''}}</text></view><view class="goods-box"><image class="goods-img" src="{{item.image}}" mode="aspectFill"></image><view class="goods-info"><view class="goods-name">{{item.goodsName}}</view><view class="goods-spec">{{"è§„æ ¼: "+item.spec}}</view><view class="goods-price-row"><text class="price">{{"Â¥"+item.price}}</text><text class="qty">{{"x"+item.quantity}}</text></view></view></view><view class="summary-box"><view class="row"><text class="label">ä¹°å®¶:</text><text class="value">{{item.buyerName}}</text></view><view class="row"><text class="label">æ—¶é—´:</text><text class="value">{{item.createTime}}</text></view><view class="row"><text class="label">æ–¹å¼:</text><text class="value tag">{{item.deliveryType==='pickup'?'è‡ªæ':'é…é€'}}</text><block wx:if="{{item.deliveryType==='delivery'}}"><text class="value">{{item.address}}</text></block></view><block wx:if="{{item.note}}"><view class="row note"><text class="label">å¤‡æ³¨:</text><text class="value red">{{item.note}}</text></view></block><view class="total-row"><text>{{"å…±"+item.quantity+"ä»¶"}}</text><text class="total-price">{{"åˆè®¡: Â¥"+item.totalPrice}}</text></view></view><view class="action-box"><block wx:if="{{item.status==='pending'}}"><button data-event-opts="{{[['tap',[['handleReject',['$0'],[[['filteredOrders','id',item.id]]]]]]]}}" class="btn btn-outline-danger" bindtap="__e">æ‹’ç»æ¥å•</button><button data-event-opts="{{[['tap',[['handleAccept',['$0'],[[['filteredOrders','id',item.id]]]]]]]}}" class="btn btn-primary" bindtap="__e">ç«‹å³æ¥å•</button></block><block wx:if="{{item.status==='awaiting'}}"><block wx:if="{{item.deliveryType==='pickup'}}"><view class="location-tip"><text>ğŸ“ éœ€åˆ°åº—è‡ªæ</text></view></block><button data-event-opts="{{[['tap',[['handleComplete',['$0'],[[['filteredOrders','id',item.id]]]]]]]}}" class="btn btn-primary" bindtap="__e">{{''+(item.deliveryType==='pickup'?'æ ‡è®°å·²å–è´§':'æ ‡è®°å·²é€è¾¾')+''}}</button></block><block wx:if="{{item.status==='completed'}}"><button data-event-opts="{{[['tap',[['viewDetail',['$0'],[[['filteredOrders','id',item.id]]]]]]]}}" class="btn btn-default" bindtap="__e">æŸ¥çœ‹è¯¦æƒ…</button></block></view></view></block><block wx:if="{{$root.g0===0}}"><view class="empty-state"><text>æš‚æ— ç›¸å…³è®¢å•</text></view></block><view class="safe-area-bottom"></view></scroll-view></view>
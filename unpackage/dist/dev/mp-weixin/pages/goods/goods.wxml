<view class="container"><view class="nav-bar"><scroll-view class="nav-scroll" scroll-x="{{true}}"><view class="nav-item">服装</view><view class="nav-item">婴童</view><view class="nav-item">杂货</view><view class="nav-item">洗护</view><view class="nav-item active">志趣</view><view class="nav-item">美食</view></scroll-view></view><view class="header-section"><view class="main-title">志趣</view><view class="sub-title">周边精品，共享热爱</view></view><view class="goods-list"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="goods-item"><image class="goods-img" src="{{item.image}}" mode="aspectFill"></image><view class="goods-info"><view class="goods-name">{{item.name}}</view><view class="price-stock-row"><text class="price">{{"¥ "+item.price}}</text><text class="stock">{{"库存:"+item.stock}}</text></view><view class="action-row"><button class="btn-remove" size="mini" data-event-opts="{{[['tap',[['removeItem',[index]]]]]}}" bindtap="__e">下架商品</button></view></view></view></block><block wx:if="{{$root.g0===0}}"><view class="empty-tip"> 暂无商品，请点击右下角添加 </view></block></view><view data-event-opts="{{[['tap',[['openModal',['$event']]]]]}}" class="fab-add" bindtap="__e"><text class="plus-icon">+</text><text class="add-text">上架</text></view><block wx:if="{{showModal}}"><view data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="modal-mask" catchtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="modal-content" catchtap="__e"><view class="modal-header">上架新商品</view><scroll-view class="modal-body" scroll-y="{{true}}"><view class="form-item"><text class="label">商品名称</text><input class="input" placeholder="例如: 魔兽世界 手办" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['form']]]]]}}" value="{{form.name}}" bindinput="__e"/></view><view class="form-item"><text class="label">价格 (¥)</text><input class="input" type="number" placeholder="0.00" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],['form']]]]]}}" value="{{form.price}}" bindinput="__e"/></view><view class="form-item"><text class="label">库存数量</text><input class="input" type="number" placeholder="0" data-event-opts="{{[['input',[['__set_model',['$0','stock','$event',[]],['form']]]]]}}" value="{{form.stock}}" bindinput="__e"/></view><view class="form-item"><text class="label">商品介绍</text><textarea class="textarea" placeholder="简要描述商品细节..." data-event-opts="{{[['input',[['__set_model',['$0','desc','$event',[]],['form']]]]]}}" value="{{form.desc}}" bindinput="__e"></textarea></view><view class="form-item"><text class="label">商品图片</text><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="upload-box" bindtap="__e"><block wx:if="{{form.image}}"><image class="preview-img" src="{{form.image}}" mode="aspectFill"></image></block><block wx:else><view class="upload-placeholder"><text class="camera-icon">📷</text><text>点击上传</text></view></block></view></view></scroll-view><view class="modal-footer"><button data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="btn-cancel" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['submitGoods',['$event']]]]]}}" class="btn-submit" bindtap="__e">确认上架</button></view></view></view></block></view>